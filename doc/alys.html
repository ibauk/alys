<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>RBLR automation</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" type="text/css" media="screen" href="../rblr.css" />
    <style>
      body {
        background: white;
        max-width: 190mm;
        margin: auto;
        font-size: 12pt;
      }
      h2 {
        text-transform: uppercase;
        margin: 1em 0 0.2em 0;
      }
      h3,
      figcaption {
        margin: 1em 0 0.2em 0;
        font-size: 0.9em;
      }
      img {
        border: solid black 2px;
        max-width: 100%;
      }
      ul,
      ol {
        margin-bottom: 1em;
      }
      p {
        text-align: justify;
      }
      figure {
        display: table;
      }
      figcaption {
        display: table-caption;
        caption-side: top;
      }
    </style>
    <script src="main.js"></script>
  </head>
  <body>
    <h1>RBLR1000 automation</h1>
    <article>
      <h2>Background history</h2>
      <p>
        When I first got involved with this event it was very labour intensive
        and finishers had to wait months for their certificates. Things have
        improved dramatically over the years with increasing levels of
        automation.
      </p>
      <p>
        During the pandemic we introduced the staggered starts (05:00, 05:10,
        ...) as a way to comply with the applicable legal framework. It was
        found to be a helpful and convenient improvement to the start process
        and has been retained ever since.
      </p>
      <p>
        In the last few years we have started using automation at Squires as
        well as beforehand. In 2022(or 3) we captured odo readings and
        start/finish times electronically but the process of using a phone
        <strong>and</strong>
        updating paper lists proved too much for the workforce and, in any
        event, the duplication proved unnecessary.
      </p>
      <p>
        In 2024, only electronic records were kept and, even though not
        everything worked as it should, that proved to be a practicable and
        successful approach. In 2025, we'll go much further down the automation
        route.
      </p>
    </article>
    <article>
      <h2>Paperwork</h2>
      <p>Three pieces of paperwork will continue to be used</p>
      <ul>
        <li>Disclaimers</li>
        <li>Receipt logs</li>
        <li>Master list of entries</li>
      </ul>
      <figure>
        <figcaption>Disclaimers</figcaption>
        <img src="disclaimer.png" alt="" />
      </figure>
      <p>
        Blank disclaimers are no longer available on the RBLR website so we
        retain control of the wording and handwriting. Those with pillions have
        signature blocks for rider and pillion.
      </p>
      <p>
        Blank disclaimers will be available at Squires to cater for latecomers
        and other delinquents.
      </p>
      <figure>
        <figcaption>Receipt logs</figcaption>
        <img src="receipt.png" alt="" />
      </figure>
      <p>
        These are maintained by the rider, not the staff (except for
        signatures). The pre-filled start times are intended to optimise the
        mass starts, they can be circled or crossed-out but times on these
        sheets are aide-memoires only, definitive times and odos will be
        captured electronically. Riders obviously need to retain the relevant
        receipts as well as this log.
      </p>
      <p>
        Blank logs will be available at Squires to cater for latecomers and
        other delinquents.
      </p>
      <figure>
        <figcaption>Master list of entries</figcaption>
        <img src="overview.png" alt="" />
      </figure>

      <p>
        This sheet is produced as part of the generation of the database which
        forms the basis of all administration of the event. It illustrates the
        sequence used throughout the admin systems: alphabetic by lastname,
        firstname. The particular purpose of this document is to provide a
        reference point when no electronics are available, for example, when
        dealing with merchandise (see below).
      </p>
    </article>
    <article>
      <h2>Process flow</h2>
      <p>There are seven possible stages or statuses for an entrant:</p>
      <ol>
        <li>
          <em>registered</em> (aka 'not signed in') - expected but not at
          Squires yet
        </li>
        <li>
          <em>withdrawn</em> (before signing in, aka 'DNS') - not expected at
          Squires
        </li>
        <li><em>signed in</em> at Squires</li>
        <li><em>checked out</em> - still out riding</li>
        <li><em>finisher</em> - checked in at Squires within 24 hours</li>
        <li><em>late finisher</em> - checked in at Squires after 24 hours</li>
        <li><em>DNF</em> - ride is abandoned, not returning to Squires</li>
      </ol>
      <p>
        Registration takes place online via the existing Wufoo forms
        arrangements. Information captured there is further filtered before
        being added to the database. It is surprising how many can't spell their
        own name!
      </p>
      <p>
        Latecomers will also be able to be registered directly into the database
        at Squires.
      </p>
      <p>
        Some people inform us that they won't be coming before the event. Where
        that happens, the database is updated to reflect that fact by setting
        their status to Withdrawn.
      </p>
      <p>
        On arrival at Squires, registered entrants will be signed in by staff.
        Unregistered entrants can use a separate process combining registration
        and signing in.
      </p>
      <p>Check out occurs in Squires carpark on Saturday morning.</p>
      <p>
        DNF occurs when an entrant reports or is reported as not returning to
        Squires.
      </p>
      <p>
        Returning entrants are checked in at Squires by staff. Status is
        Finisher if checked in within 24 hours otherwise Late Finisher.
      </p>
    </article>
    <article>
      <h2>Verification</h2>
      <p>
        We're really only concerned with 1000 mile <em>Finishers</em> here,
        those needing IBA certification. Others returning to Squires are given a
        "finisher" certificate showing completion of the ride.
      </p>
      <p>The minimum requirements for ride certification are</p>
      <ol>
        <li>Checked out by staff at Squires</li>
        <li>Checked in by staff at Squires</li>
        <li>Presentation of signed receipt log</li>
        <li>Presentation of required receipts</li>
      </ol>
      <p>
        Check out and check in will be proved by records on the database and
        signatures on the receipt log. The computer will flag if odo difference
        is seriously out of order.
      </p>
      <p>
        No fuel log, witnesses, Spotwalla track or explanations of delays
        needed, this is always a pre-verified ride.
      </p>
    </article>
    <article>
      <h2>Certificates</h2>
      <p>
        The bulk of the certificates will be produced shortly before the event
        based on information held on the database at the time of printing.
        Certificates for late entries, late finishers and some route changes
        will be printed and mailed out after the event.
      </p>
      <p>
        Mere direction swaps no longer result in a need for a new certificate as
        the wording has been altered to omit directionality. Swapping between
        north and south routes does need a new certificate.
      </p>
    </article>
    <hr />
    <article>
      <h2>Automation</h2>
      <p>
        Until 2024, all automation for the RBLR involved customisations of
        <em>ScoreMaster</em>, the rally scoring system. For 2025, a new system
        <em>Alys</em> has been developed exclusively for automating the RBLR.
      </p>
      <p>
        Alys involves a cloud or local network based server being accessed from
        laptops, tablets or phones via a web browser. No special software needed
        on any device, just any browser. Networking has been operating
        successfully at Squires for the last few years by hotspotting a mobile
        phone. In the event of a complete failure of civilisation it might be
        necessary to revert to old-fashioned paper methods.
      </p>
      <h3>Check-out (start)</h3>
      <p>
        Riders assemble in the carpark well before the 5am start. Staff will use
        phones or tablets to record staring odo readings and that act will also
        record the rider's start time. The phone screen looks like
      </p>
      <figure>
        <img src="start.png" alt="" />
      </figure>
      <p>
        The initial start time will be 05:00 and this time will be recorded for
        all odo readings captured before then. Alys will watch the clock and
        automatically roll over to the next slot, 05:10, as soon as the clock
        hits 05:01 or when triggered to do so by the staff member. From 05:31
        onwards the start time advances one minute at a time.
      </p>
      <p>Obviously those settings (start time, gap, ...) are all variable.</p>
      <p>
        The ability to trigger a new starting slot enables staff to implement a
        cutoff for each slot. This might well be needed if more than 200 riders
        are present at the start.
      </p>
      <h3>Check-in (finish)</h3>
      <p>
        Returning riders are met in the carpark at Squires and checked in using
        a screen similar to the one used at the start
      </p>
      <figure>
        <img src="finish.png" alt="" />
      </figure>
      <p>
        Alys keeps track of the time and the time shown is the finish time
        applied when the odo reading is captured. The [stop clock] function is
        useful when a group of riders arrive back at Squires together. Stopping
        the clock maintains the single timestamp for two minutes giving staff
        enough time to process everyone.
      </p>
      <p>
        Finisher status, OK or Late, is also determined by the system at the
        point of check-in. (it's ok, everything <strong>could</strong> be
        overturned manually if necessary)
      </p>
      <h3>Instant state of play</h3>
      <figure>
        <img src="stats.png" alt="" />
      </figure>
      <p>
        Because everything's automated we have access to comprehensive
        statistics about the current state of play, especially useful overnight
        when we can know exactly how many we're still waiting for. A little
        thing, I know, but at 04:30 Sunday when asked for the third time, it's
        quite helpful.
      </p>
      <p>The figures shown above are mostly self-explanatory.</p>
      <p>
        "Finisher certs uncollected" is the number of Finishers who have not yet
        collected their certificates. In other words, they've been checked-in at
        Squires after the ride but haven't actually been given their certificate
        yet. This will typically be a small number.
      </p>
      <p>
        "Cert reprints needed" is the number of certificates needing to be
        reprinted because Finishers came in late or switched between north and
        south routes.
      </p>
    </article>
    <article>
      <h2>Signing in / record maintenance</h2>
      <p>Sign in at Squires involves</p>
      <ol>
        <li>Confirming presence</li>
        <li>Confirming accuracy of database info</li>
        <li>Handing in any donations</li>
        <li>Signing a disclaimer</li>
        <li>Receiving receipt log</li>
      </ol>
      <p>
        On completion status is changed to <em>signed in</em> and the entrant
        will appear in the check out picklist.
      </p>
      <p>The database record screen currently looks like</p>
      <figure>
        <img src="rider.png" alt="" />
      </figure>
      <p>
        This provides adequate access to all data but might not be optimal for
        specific processes such as sign in and sign out/verification which are
        not currently specified in any detail.
      </p>
    </article>
    <article>
      <h2>Verification</h2>
      <p>
        As riders return to Squires they are immediately checked-in by staff and
        that process stops the clock and determines their finisher status. They
        then check and assemble their paperwork before visiting the verifier who
        checks everything and issues certificates as appropriate. The verifier
        has access to
      </p>
      <figure>
        <img src="verifier.png" alt="" />
      </figure>
      <p>
        In most cases, the only database action needed is to select "Certificate
        delivered" for each rider. It is also possible to alter the finisher
        status as appropriate.
      </p>
    </article>
    <article>
      <h2>Shop/merchandise</h2>
      <p>
        T-shirts and patches can be pre-ordered when registering online and
        those details are maintained in the database. The system assumes
        pre-ordered items are collected when entrants are signed-in at Squires,
        no facility exists to record actual collection.

        <img src="merch.png" alt="" />
      </p>
    </article>

    <article>
      <h2>Two phase event</h2>
      <p>
        In order to keep things as simple and tolerant as practicable, the
        system divides the event into two phases
      </p>
      <ol>
        <li>Signing in and checking out</li>
        <li>Checking in and verification</li>
      </ol>
      <p>
        This means that menus can be kept to a minimum and nobody should be
        confused as to which odo reading they're taking.
      </p>
      <p>
        This currently calls for a manual intervention to switch modes at some
        point on Saturday but this could also be automated with a manual
        override.
      </p>
    </article>
    <article>
      <h2>Retained evidence</h2>
      <p>
        As I understand it, the decision of the verifier at Squires is final and
        rides are proved for all purposes by the issuing of a certificate. In
        the event of a ride being subsequently audited or the certification
        challenged, we will need to retain some evidence for inspection. The
        database itself will be retained but we should also consider retaining
        receipt logs and/or actual receipts.
      </p>
    </article>
    <article>
      <h2>Demonstration setup</h2>
      <p>
        The system is currently running on a private server at
        <a href="http://77.68.117.223/menu">http://77.68.117.223/menu</a>. The
        database contains some arbitrary data so won't necessarily appear
        logical but it's just to allow us to get a feel for the software and try
        things out.
      </p>
      <p>
        The software is at an early stage of development, breaking it will prove
        nothing.
      </p>
    </article>
    <article>
      <h2>Document version 1.1</h2>
      <h3>Issue history</h3>
      <p>1.0 17Sep24 Initial release to working group</p>
      <p>1.1 06Oct24 Updated for feedback and v0.02 software</p>
    </article>
  </body>
</html>
